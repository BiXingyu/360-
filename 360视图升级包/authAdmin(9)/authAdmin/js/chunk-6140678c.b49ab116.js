(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6140678c"],{6407:function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total,"pager-count":e.pagerCount},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})},i=[],s=(a("7afe"),a("f13c")),l=a("ae5e"),o=a("acac"),r=a("2ad3"),c=a("e0e5"),u=a("fd63"),p=a("e4a1");function d(e){var t=f();return function(){var a,n=Object(c["a"])(e);if(t){var i=Object(c["a"])(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(r["a"])(this,a)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var h=function(e){Object(o["a"])(a,e);var t=d(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"currentPage",get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},{key:"pageSize",get:function(){return this.size},set:function(e){this.$emit("update:size",e)}},{key:"handleSizeChange",value:function(e){this.currentPage=1,this.$emit("getTableData")}},{key:"handleCurrentChange",value:function(e){this.$emit("getTableData")}}]),a}(p["c"]);Object(u["a"])([Object(p["b"])({required:!0})],h.prototype,"total",void 0),Object(u["a"])([Object(p["b"])({default:1})],h.prototype,"page",void 0),Object(u["a"])([Object(p["b"])({default:10})],h.prototype,"size",void 0),Object(u["a"])([Object(p["b"])({default:7})],h.prototype,"pagerCount",void 0),Object(u["a"])([Object(p["b"])({default:function(){return[10,20,30,50]}})],h.prototype,"pageSizes",void 0),Object(u["a"])([Object(p["b"])({default:"total, sizes, prev, pager, next, jumper"})],h.prototype,"layout",void 0),h=Object(u["a"])([Object(p["a"])({name:"pagination"})],h);var b=h,m=b,v=(a("84c7"),a("0b56")),y=Object(v["a"])(m,n,i,!1,null,"7e267c7f",null);t["a"]=y.exports},"84c7":function(e,t,a){"use strict";a("f180")},a039:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"call-interface-overView"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.showDetail,expression:"!showDetail"}]},[t("ul",{staticClass:"mb-20"},e._l(e.activeData,(function(a,n){return t("li",{key:n,class:{active:e.activeName===a.index},on:{click:function(t){return e.changeTab(a.index)}}},[e._v("\n        "+e._s(a.label)+"\n      ")])})),0),t("div",{staticClass:"header-bottom"},[t("span",{staticClass:"mr-10"},[e._v("选择系统")]),t("el-select",{attrs:{filterable:"",placeholder:"请选择系统"},on:{change:function(t){return e.computedTimeVal(0)}},model:{value:e.defaultDepartmentOption,callback:function(t){e.defaultDepartmentOption=t},expression:"defaultDepartmentOption"}},e._l(e.departmentOptions,(function(e,a){return t("el-option",{key:a,attrs:{label:e.dictValueName,value:e.dictValueCode}})})),1),4===e.activeName?t("el-date-picker",{staticClass:"ml-20",attrs:{type:"daterange","unlink-panels":"",placeholder:"选择日期范围","picker-options":e.pickerBeginDateBefore},model:{value:e.dateRangeVal,callback:function(t){e.dateRangeVal=t},expression:"dateRangeVal"}}):e._e(),t("el-button",{staticClass:"ml-20",attrs:{type:"primary"},on:{click:function(t){return e.computedTimeVal(0)}}},[e._v("查询\n      ")])],1),t("div",{staticClass:"mt-20"},[t("div",{staticClass:"card-panel-all",on:{click:function(t){return e.intoDetails("-1")}}},[t("div",{staticClass:"card-panel-text"},[e._v("总调用次数")]),t("div",{staticClass:"card-text"},[e._v(e._s(e.allNum))]),t("div",{staticClass:"icon-all"})]),t("div",{staticClass:"card-panel-success",on:{click:function(t){return e.intoDetails("0")}}},[t("div",{staticClass:"card-panel-text"},[e._v("调用成功次数")]),t("div",{staticClass:"card-text"},[e._v(e._s(e.successNum))]),t("div",{staticClass:"icon-success"})]),t("div",{staticClass:"card-panel-fail",on:{click:function(t){return e.intoDetails("1")}}},[t("div",{staticClass:"card-panel-text"},[e._v("调用失败次数")]),t("div",{staticClass:"card-text"},[e._v(e._s(e.failNum))]),t("div",{staticClass:"icon-fail"})])]),t("div",{staticStyle:{width:"100%",height:"400px","margin-top":"20px"},attrs:{id:"lineChart"}})]),t("call-interface-details-table",{directives:[{name:"show",rawName:"v-show",value:e.showDetail,expression:"showDetail"}],attrs:{begin:e.dateRangeVal[0],end:e.dateRangeVal[1],client:e.defaultDepartmentOption,"show-detail":e.showDetail,type:e.detailType},on:{"update:showDetail":function(t){e.showDetail=t},"update:show-detail":function(t){e.showDetail=t}}})],1)},i=[],s=(a("7afe"),a("bd32")),l=a("f13c"),o=a("ae5e"),r=a("acac"),c=a("2ad3"),u=a("e0e5"),p=a("fd63"),d=a("e4a1"),f=a("4d28"),h=a.n(f),b=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"call-interface-details"},[t("el-page-header",{staticClass:"mb-20",attrs:{content:e.getContent},on:{back:e.goBack}}),t("el-input",{staticClass:"w-300",attrs:{placeholder:"请输入编码、ip",clearable:""},on:{clear:e.beforeList},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.beforeList.apply(null,arguments)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),t("el-button",{staticClass:"ml-20",attrs:{type:"primary"},on:{click:e.beforeList}},[e._v("查询")]),t("el-table",{staticClass:"mt-20",attrs:{data:e.realTimeData}},[t("el-table-column",{attrs:{prop:"ipaddress",label:"IP地址"}}),t("el-table-column",{attrs:{prop:"eventcode",label:"节点编码","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"eventname",label:"节点名称","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"jlzt",label:"调用状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:"0"===a.row.jlzt?"success":"danger","disable-transitions":""}},[e._v(e._s("0"===a.row.jlzt?"成功":"失败"))])]}}])}),t("el-table-column",{attrs:{prop:"message",label:"调用输出结果"}}),t("el-table-column",{attrs:{prop:"csyz",label:"参数验证"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popover",{attrs:{trigger:"hover",placement:"top",width:"800"}},[t("p",{staticStyle:{color:"green"}},[e._v("标准参数:")]),t("span",{staticClass:"text-break"},[e._v(e._s(a.row.bzcs))]),t("p",{staticStyle:{color:"red"}},[e._v("传入参数:")]),t("span",{staticClass:"text-break"},[e._v(e._s(a.row.input))]),t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["-1"===a.row.csyz?t("el-tag",{attrs:{type:"warning"}},[e._v("\n              未消费\n            ")]):e._e(),"0"===a.row.csyz?t("el-tag",{attrs:{type:"success"}},[e._v("\n              成功\n            ")]):e._e(),"1"===a.row.csyz?t("el-tag",{attrs:{type:"danger"}},[e._v("\n              失败\n            ")]):e._e()],1)])]}}])}),t("el-table-column",{attrs:{prop:"csscjg",label:"参数输出结果","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"times",label:"耗时(s)","show-overflow-tooltip":""}}),t("el-table-column",{attrs:{prop:"gxrq",label:"更新日期","show-overflow-tooltip":""}})],1),t("pagination",{attrs:{page:e.page,size:e.size,total:e.total},on:{"update:page":function(t){e.page=t},"update:size":function(t){e.size=t},getTableData:e.listOverViewDetails}})],1)},m=[],v=a("6407");function y(e){var t=g();return function(){var a,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c["a"])(this,a)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var w=function(e){Object(r["a"])(a,e);var t=y(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.page=1,e.size=10,e.total=0,e.realTimeData=[],e.searchKey="",e.content="详情页面-总",e}return Object(o["a"])(a,[{key:"mounted",value:function(){this.listOverViewDetails()}},{key:"getContent",get:function(){return"-1"===this.type?"详情页面-总":"0"===this.type?"详情页面-成功":"详情页面-失败"}},{key:"showChange",value:function(){this.beforeList()}},{key:"goBack",value:function(){this.$emit("update:showDetail",!1)}},{key:"beforeList",value:function(){this.page=1,this.listOverViewDetails()}},{key:"listOverViewDetails",value:function(){var e=this,t={begin:this.begin,end:this.end,type:this.type,client:this.client,page:this.page,size:this.size,searchKey:this.searchKey};this.$api.listOverViewDetails(t).then((function(t){var a=t.data||{};e.realTimeData=a.content||[],e.total=a.totalElements||0})).catch((function(){}))}}]),a}(d["c"]);Object(p["a"])([Object(d["b"])({required:!0})],w.prototype,"begin",void 0),Object(p["a"])([Object(d["b"])({required:!0})],w.prototype,"end",void 0),Object(p["a"])([Object(d["b"])({required:!0})],w.prototype,"type",void 0),Object(p["a"])([Object(d["b"])({required:!0})],w.prototype,"client",void 0),Object(p["a"])([Object(d["b"])({required:!0})],w.prototype,"showDetail",void 0),Object(p["a"])([Object(d["d"])("showDetail")],w.prototype,"showChange",null),w=Object(p["a"])([Object(d["a"])({name:"CallInterfaceDetails",components:{pagination:v["a"]}})],w);var O=w,D=O,x=a("0b56"),C=Object(x["a"])(D,b,m,!1,null,"3cb39340",null),j=C.exports;function k(e){var t=_();return function(){var a,n=Object(u["a"])(e);if(t){var i=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(c["a"])(this,a)}}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var z=function(e){Object(r["a"])(a,e);var t=k(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.pickerBeginDateBefore={disabledDate:function(e){return e.getTime()>Date.now()}},e.activeName=0,e.activeData=[{index:0,label:"今天"},{index:1,label:"昨天"},{index:7,label:"最近7天"},{index:30,label:"最近30天"},{index:4,label:"自定义日期"}],e.allNum="",e.successNum="",e.failNum="",e.seriesData=[],e.departmentOptions=[{dictValueCode:"-1",dictValueName:"全系统"}],e.defaultDepartmentOption="-1",e.dateRangeVal=[e.$moment(new Date).format("YYYY-MM-DD"),e.$moment(new Date).add(1,"day").format("YYYY-MM-DD")],e.lineChart=null,e.timeType=13,e.showDetail=!1,e.detailType="-1",e}return Object(o["a"])(a,[{key:"mounted",value:function(){var e=this;this.listSystems(),this.computedTimeVal(0),window.addEventListener("resize",(function(){e.lineChart&&e.lineChart.resize()}))}},{key:"beforeDestroy",value:function(){this.lineChart&&(window.removeEventListener("resize",this.lineChart),this.lineChart.dispose(),this.lineChart=null)}},{key:"intoDetails",value:function(e){this.detailType=e,this.showDetail=!0}},{key:"changeTab",value:function(e){this.activeName=e,4===e?this.dateRangeVal=[this.$moment(new Date).format("YYYY-MM-DD"),this.$moment(new Date).add(1,"day").format("YYYY-MM-DD")]:(this.dateRangeVal=[this.$moment(new Date).add(-e,"day").format("YYYY-MM-DD"),this.$moment(new Date).add(1===e?0:1,"day").format("YYYY-MM-DD")],this.computedTimeVal(0))}},{key:"initEchart",value:function(){this.lineChart||(this.lineChart=h.a.init(document.getElementById("lineChart")));var e={color:["#11a0e6"],tooltip:{trigger:"item",axisPointer:{type:"shadow"},backgroundColor:"tranparent",formatter:function(e){var t='<p style="margin-bottom: 5px"><span style="font-size:12px;color:#b2bfcf;margin: 0 5px 0 0;width: 50px;">调用次数：</span><span style="font-size:12px;color:#53a0ea;">\n            '.concat(e.value[1],'</span></p><p style="margin-bottom: 15px"><span style="font-size:12px;color:#b2bfcf;margin: 0 5px 0 0;width: 50px;">时间：</span><span style="font-size:12px;color:#414141;">\n            ').concat(e.value[0],"</span></p>");return'<div style="cursor:pointer;min-width:160px;height:auto;background: #FFFFFF;box-shadow: 0 0 3px 0 #A6A6A6;border-radius: 2px;padding:5px 15px 5px 20px;">\n            '.concat(t,"</div>")}},grid:{top:"4%",left:"5%",right:"3%",bottom:"12%",containLabel:!0},xAxis:{min:this.dateRangeVal[0],max:this.dateRangeVal[1],type:"time",axisLine:{inside:!0,onZero:!1,lineStyle:{color:"#8CA0B3"}},axisTick:{show:!1},axisLabel:{margin:10,textStyle:{fontSize:12,color:"#666",align:"center"}},splitLine:{show:!1,lineStyle:{type:"dashed",color:"#ff9900"}},axisPointer:{show:!1}},yAxis:{type:"value",splitNumber:4,axisTick:{show:!1},axisLine:{lineStyle:{color:"#999999"}},splitLine:{show:!0,lineStyle:{type:"solid",color:"#EDEDED",fontStyle:"lighter"}}},dataZoom:[{type:"inside",start:0,end:100,minSpan:1}],series:[{name:"次数",type:"line",data:this.seriesData}]};this.lineChart.setOption(e)}},{key:"listSystems",value:function(){var e=this;this.$api.bhAllSystems().then((function(t){var a=t.data||[];e.departmentOptions=[{dictValueCode:"-1",dictValueName:"全系统"}].concat(Object(s["a"])(a))})).catch((function(){}))}},{key:"computedTimeVal",value:function(e){if(4!==this.activeName||null!==this.dateRangeVal){var t=this.$moment(this.dateRangeVal[1]).diff(this.$moment(this.dateRangeVal[0]))/36e5;this.timeType=t>=0&&t<=24?13:11,this.getNumbers(e)}else this.$message({message:"请选择自定义日期",type:"warning"})}},{key:"getNumbers",value:function(e){var t=this,a={dictValueCode:this.defaultDepartmentOption,begin:this.dateRangeVal[0],end:this.dateRangeVal[1],type:e,timeType:this.timeType};this.$api.getNumbers(a).then((function(a){if(null===a.data)t.seriesData=[],t.allNum="0",t.successNum="0",t.failNum="0";else{var n=a.data||[];if(0===e&&n.length){t.seriesData=n;var i=n[n.length-1];t.allNum=i[0],t.successNum=i[1],t.failNum=i[2]}else t.seriesData=n}t.initEchart()})).catch((function(){}))}}]),a}(d["c"]);z=Object(p["a"])([Object(d["a"])({name:"CallInterfaceOverView",components:{CallInterfaceDetailsTable:j}})],z);var V=z,R=V,N=(a("f255"),Object(x["a"])(R,n,i,!1,null,"3c28ba10",null));t["default"]=N.exports},d271:function(e,t,a){},f180:function(e,t,a){},f255:function(e,t,a){"use strict";a("d271")}}]);