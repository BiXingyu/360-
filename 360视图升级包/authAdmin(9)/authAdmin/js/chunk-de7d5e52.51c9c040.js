(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de7d5e52"],{"005f":function(e,t,a){"use strict";a("83b2")},"1ccc":function(e,t,a){"use strict";a.r(t);a("a450");var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"history mt-20"},[t("div",{staticClass:"search flex flex-pack-justify-between flex-align-center mt-10"},[t("div",{staticClass:"flex"},[t("el-input",{staticClass:"keyword mr-20",attrs:{placeholder:"请输入名称",clearable:!0},on:{clear:e.getDataList},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getDataList.apply(null,arguments)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),t("el-button",{staticClass:"query-btn",attrs:{type:"primary"},on:{click:e.getDataList}},[e._v("\n        查询\n      ")])],1),t("el-button",{staticClass:"my-btn",attrs:{type:"primary",disabled:!e.isKnowledge},on:{click:function(t){return e.handleAddBtnClickEvent()}}},[e._v("\n      新增\n    ")])],1),t("el-table",{staticClass:"sign-table",staticStyle:{width:"100%"},attrs:{data:e.dataList,"highlight-current-row":"",height:"100%","header-row-class-name":"table-header"}},[t("el-table-column",{attrs:{type:"index","min-width":"80"}}),t("el-table-column",{attrs:{prop:"name",label:"既往史关键词","min-width":"120"}}),t("el-table-column",{attrs:{prop:"example",label:"既往史示例","min-width":"120"}}),t("el-table-column",{attrs:{prop:"significance",label:"临床意义","min-width":"120"}}),t("el-table-column",{attrs:{prop:"source",label:"数据来源","min-width":"100"}}),t("el-table-column",{attrs:{label:"操作","min-width":"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit",disabled:!e.isKnowledge,circle:""},on:{click:function(t){return e.handleEditBtnClickEvent(a.row)}}}),t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:!e.isKnowledge,circle:""},on:{click:function(t){return e.handleDeleteBtnClickEvent(a.row)}}})]}}])})],1),t("pagination",{attrs:{page:e.tabPage,size:e.tabSize,total:e.tabTotal},on:{"update:page":function(t){e.tabPage=t},"update:size":function(t){e.tabSize=t},getTableData:e.getDataList}}),t("el-dialog",{attrs:{title:e.dialogTitle,visible:e.showDialog,"close-on-click-modal":!1,"before-close":e.closeDialog},on:{"update:visible":function(t){e.showDialog=t}}},[t("el-form",{ref:"jwsForm",attrs:{model:e.jwsForm,"label-width":"110px",rules:e.jwsFormRules}},[t("el-form-item",{attrs:{label:"既往史：",prop:"name"}},[t("el-input",{model:{value:e.jwsForm.name,callback:function(t){e.$set(e.jwsForm,"name",t)},expression:"jwsForm.name"}})],1),t("el-form-item",{attrs:{label:"既往史示例：",prop:"example"}},[t("el-input",{model:{value:e.jwsForm.example,callback:function(t){e.$set(e.jwsForm,"example",t)},expression:"jwsForm.example"}})],1),t("el-form-item",{attrs:{label:"临床意义：",prop:"significance"}},[t("el-input",{model:{value:e.jwsForm.significance,callback:function(t){e.$set(e.jwsForm,"significance",t)},expression:"jwsForm.significance"}})],1),t("el-form-item",{attrs:{label:"数据来源：",prop:"source"}},[t("el-input",{model:{value:e.jwsForm.source,callback:function(t){e.$set(e.jwsForm,"source",t)},expression:"jwsForm.source"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{nativeOn:{click:function(t){return e.closeDialog.apply(null,arguments)}}},[e._v("\n        取消\n      ")]),t("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.saveData.apply(null,arguments)}}},[e._v("提交")])],1)],1)],1)},n=[],o=(a("ac67"),a("1bc7"),a("32ea"),a("7afe"),a("824a")),r=a("f13c"),s=a("ae5e"),c=a("acac"),l=a("2ad3"),u=a("e0e5"),p=a("fd63"),f=a("e4a1"),d=a("6407"),h=a("a349");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e){var t=m();return function(){var a,i=Object(u["a"])(e);if(t){var n=Object(u["a"])(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return Object(l["a"])(this,a)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){Object(c["a"])(a,e);var t=y(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.historyTypeCode="JWS",e.showDialog=!1,e.isEdit=!1,e.dialogTitle="",e.tabPage=1,e.tabSize=50,e.tabTotal=0,e.jwsForm={},e.searchKey="",e.queryCode="",e.dataList=[],e.disease={},e.jwsFormRules={name:[{required:!0,message:"请输入名称",trigger:"blur"}]},e}return Object(s["a"])(a,[{key:"cahngeView",value:function(){this.getDataList()}},{key:"mounted",value:function(){this.getDataList()}},{key:"getDataList",value:function(){var e=this;this.$route.query&&this.$route.query.type&&(this.historyTypeCode="JWS",this.queryCode=this.$route.query.diseaseCode);var t={historyTypeCode:"JWS",searchKey:this.searchKey,diseaseCode:this.activeView.diseaseCode,page:this.tabPage,size:this.tabSize};this.$api.listDiseaseHistories(t).then((function(t){var a=t.data||{};e.dataList=a.content||[],e.tabTotal=a.totalElements||0})).catch((function(e){}))}},{key:"saveData",value:function(){var e,t=this;this.$refs.jwsForm.validate((function(a){a&&(e=t.jwsForm,t.doSaveData(e))}))}},{key:"doSaveData",value:function(e){var t=this,a={id:e.id,name:e.name,diseaseCode:this.activeView.diseaseCode,diseaseName:this.activeView.diseaseName,historyTypeCode:this.historyTypeCode,example:e.example,source:e.source,significance:e.significance};this.$api.saveDiseaseHistory(a).then((function(e){200===e.status&&t.$message({message:"保存成功！",type:"success"}),t.closeDialog(),t.getDataList()})).catch((function(e){}))}},{key:"deleteDiseaseHistory",value:function(e){var t=this;this.$api.deleteDiseaseHistory({id:e}).then((function(e){t.$notify({title:"成功",message:"删除成功！",type:"success"}),t.getDataList()})).catch((function(e){}))}},{key:"handleDeleteBtnClickEvent",value:function(e){var t=this;this.$confirm("确定删除？","提示",{type:"warning"}).then((function(){t.deleteDiseaseHistory(e.id)})).catch((function(){}))}},{key:"handleAddBtnClickEvent",value:function(){this.jwsForm={},this.showDialog=!0,this.isEdit=!1,this.dialogTitle=this.activeView.diseaseName+"专科视图/既往史/新增"}},{key:"handleEditBtnClickEvent",value:function(e){this.showDialog=!0,this.isEdit=!0,this.jwsForm=g({},e),this.dialogTitle=this.activeView.diseaseName+"专科视图/既往史/修改"}},{key:"closeDialog",value:function(){this.showDialog=!1,this.$refs.jwsForm.resetFields()}}]),a}(f["c"]);Object(p["a"])([h["a"]],v.prototype,"isKnowledge",void 0),Object(p["a"])([Object(f["b"])(Object)],v.prototype,"activeView",void 0),Object(p["a"])([Object(f["d"])("activeView",{immediate:!0,deep:!0})],v.prototype,"cahngeView",null),v=Object(p["a"])([Object(f["a"])({name:"sign",components:{pagination:d["a"]}})],v);var j=v,w=j,O=(a("005f"),a("0b56")),k=Object(O["a"])(w,i,n,!1,null,"c3ec65ea",null);t["default"]=k.exports},6407:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total,"pager-count":e.pagerCount},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})},n=[],o=(a("7afe"),a("f13c")),r=a("ae5e"),s=a("acac"),c=a("2ad3"),l=a("e0e5"),u=a("fd63"),p=a("e4a1");function f(e){var t=d();return function(){var a,i=Object(l["a"])(e);if(t){var n=Object(l["a"])(this).constructor;a=Reflect.construct(i,arguments,n)}else a=i.apply(this,arguments);return Object(c["a"])(this,a)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var h=function(e){Object(s["a"])(a,e);var t=f(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(r["a"])(a,[{key:"currentPage",get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},{key:"pageSize",get:function(){return this.size},set:function(e){this.$emit("update:size",e)}},{key:"handleSizeChange",value:function(e){this.currentPage=1,this.$emit("getTableData")}},{key:"handleCurrentChange",value:function(e){this.$emit("getTableData")}}]),a}(p["c"]);Object(u["a"])([Object(p["b"])({required:!0})],h.prototype,"total",void 0),Object(u["a"])([Object(p["b"])({default:1})],h.prototype,"page",void 0),Object(u["a"])([Object(p["b"])({default:10})],h.prototype,"size",void 0),Object(u["a"])([Object(p["b"])({default:7})],h.prototype,"pagerCount",void 0),Object(u["a"])([Object(p["b"])({default:function(){return[10,20,30,50]}})],h.prototype,"pageSizes",void 0),Object(u["a"])([Object(p["b"])({default:"total, sizes, prev, pager, next, jumper"})],h.prototype,"layout",void 0),h=Object(u["a"])([Object(p["a"])({name:"pagination"})],h);var b=h,g=b,y=(a("84c7"),a("0b56")),m=Object(y["a"])(g,i,n,!1,null,"7e267c7f",null);t["a"]=m.exports},"83b2":function(e,t,a){},"84c7":function(e,t,a){"use strict";a("f180")},a349:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a("3753"),n=a("7736"),o=r("computed",n["e"]);r("computed",n["c"]),r("methods",n["b"]),r("methods",n["d"]);function r(e,t){function a(a,n){return Object(i["a"])((function(i,o){i[e]||(i[e]={});var r,s=(r={},r[o]=a,r);i[e][o]=void 0!==n?t(n,s)[o]:t(s)[o]}))}function n(e,t){if("string"===typeof t){var i=t,n=e;return a(i,void 0)(n,i)}var o=s(t),r=e;return a(r,o)}return n}function s(e){var t=e&&e.namespace;if("string"===typeof t)return"/"!==t[t.length-1]?t+"/":t}},f180:function(e,t,a){}}]);