(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d277478"],{"259c":function(t,e,a){"use strict";a.r(e);a("a450");var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"modules-index-config flex flex-v"},[e("div",{staticClass:"search-condition"},[e("el-input",{staticClass:"w-200",attrs:{placeholder:"请输入病区/科室，代码",clearable:""},on:{clearn:t.queryData},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.queryData.apply(null,arguments)}},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}}),e("el-button",{staticClass:"ml-20",attrs:{type:"primary"},on:{click:t.queryData}},[t._v("\n      查询\n    ")])],1),e("p",{staticClass:"explain-text mt-10 mb-10"},[t._v("\n    该页面是针对首页及二级页面中可以查看的内容进行配置，比如入区页面可以查看到新入区，新入院，转入等指标。\n  ")]),e("div",{staticClass:"table-container flex-1 mt-10"},[e("el-table",{staticStyle:{width:"99%"},attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{prop:"moduleName",label:"模块名称",width:"200","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"bqmc",label:"所处病区科室名称",width:"300","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n          "+t._s(a.row.bqmc)+"\n          "),a.row.ksmc&&""!==a.row.ksmc?e("span",[t._v("-")]):t._e(),t._v("\n          "+t._s(a.row.ksmc)+"\n        ")]}}])}),e("el-table-column",{attrs:{prop:"quotaNames",label:"已配置指标","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"操作",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"ml-10",attrs:{size:"mini"},on:{click:function(e){return t.moduleIndexConfig(a.$index,a.row)}}},[t._v("\n            配置\n          ")])]}}])})],1),e("pagination",{attrs:{total:t.total,page:t.page,size:t.size},on:{"update:page":function(e){t.page=e},"update:size":function(e){t.size=e},getTableData:t.getTableData}})],1),e("el-dialog",{attrs:{title:"指标配置",visible:t.dialogVisible,width:"540px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[t._v("\n    请勾选需要显示的指标名称：\n    "),e("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(t.quotaList,(function(a,n){return e("el-checkbox",{key:n,attrs:{label:a.code}},[t._v("\n        "+t._s(a.name)+"\n      ")])})),1),t.quotaList.length?t._e():e("div",{staticClass:"no-data"},[t._v("暂无数据")]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.dialogSure}},[t._v("确 定")])],1)],1)],1)},i=[],o=(a("7afe"),a("1bc7"),a("f13c")),c=a("ae5e"),r=a("acac"),s=a("2ad3"),u=a("e0e5"),l=a("fd63"),f=a("e4a1"),d=a("a349"),p=a("6407");function h(t){var e=b();return function(){var a,n=Object(u["a"])(t);if(e){var i=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(s["a"])(this,a)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var g=function(t){Object(r["a"])(a,t);var e=h(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.searchStr="",t.tableData=[],t.dialogVisible=!1,t.checkList=[],t.quotaList=[],t.activeRow={},t.total=0,t.page=1,t.size=10,t}return Object(c["a"])(a,[{key:"mounted",value:function(){this.getTableData()}},{key:"queryData",value:function(){this.page=1,this.getTableData()}},{key:"getTableData",value:function(){var t=this,e={keyword:this.searchStr,yljgdm:this.yljgdm,size:this.size,page:this.page};this.$api.getBqmkpzmx(e).then((function(e){var a=e.data||{};t.tableData=a.content||[],t.total=a.totalElements||0})).catch((function(t){}))}},{key:"moduleIndexConfig",value:function(t,e){var a=this;this.activeRow=e,this.checkList=[];var n=e.moduleCode,i=e.quotaList;this.$api.findQuotaByModuleCode({moduleCode:n}).then((function(t){var e=t.data||[];a.quotaList=e,e.forEach((function(t){i.some((function(e){return t.code===e.quotaCode}))&&a.checkList.push(t.code)})),a.dialogVisible=!0})).catch((function(t){a.$notify.error({title:"提示",message:"获取配置参数失败，请联系管理员！"})}))}},{key:"dialogSure",value:function(){var t=this,e={yljgdm:this.yljgdm,bqdm:this.activeRow.bqdm,bqmc:this.activeRow.bqmc,ksdm:this.activeRow.ksdm,ksmc:this.activeRow.ksmc,moduleCode:this.activeRow.moduleCode,quotaCodes:this.checkList.join(",")};this.$api.intoMkzbys(e).then((function(e){200===e.status?(t.$message.success("保存成功！"),t.getTableData()):t.$notify.error({title:"提示",message:"保存失败，请稍后重试！"}),t.dialogVisible=!1})).catch((function(e){t.dialogVisible=!1}))}}]),a}(f["c"]);Object(l["a"])([d["a"]],g.prototype,"yljgdm",void 0),g=Object(l["a"])([Object(f["a"])({name:"ModulesIndexConfig",components:{pagination:p["a"]}})],g);var v=g,m=v,y=(a("c419"),a("0b56")),k=Object(y["a"])(m,n,i,!1,null,"c17e029c",null);e["default"]=k.exports},6407:function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total,"pager-count":t.pagerCount},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})},i=[],o=(a("7afe"),a("f13c")),c=a("ae5e"),r=a("acac"),s=a("2ad3"),u=a("e0e5"),l=a("fd63"),f=a("e4a1");function d(t){var e=p();return function(){var a,n=Object(u["a"])(t);if(e){var i=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Object(s["a"])(this,a)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var h=function(t){Object(r["a"])(a,t);var e=d(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"currentPage",get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},{key:"pageSize",get:function(){return this.size},set:function(t){this.$emit("update:size",t)}},{key:"handleSizeChange",value:function(t){this.currentPage=1,this.$emit("getTableData")}},{key:"handleCurrentChange",value:function(t){this.$emit("getTableData")}}]),a}(f["c"]);Object(l["a"])([Object(f["b"])({required:!0})],h.prototype,"total",void 0),Object(l["a"])([Object(f["b"])({default:1})],h.prototype,"page",void 0),Object(l["a"])([Object(f["b"])({default:10})],h.prototype,"size",void 0),Object(l["a"])([Object(f["b"])({default:7})],h.prototype,"pagerCount",void 0),Object(l["a"])([Object(f["b"])({default:function(){return[10,20,30,50]}})],h.prototype,"pageSizes",void 0),Object(l["a"])([Object(f["b"])({default:"total, sizes, prev, pager, next, jumper"})],h.prototype,"layout",void 0),h=Object(l["a"])([Object(f["a"])({name:"pagination"})],h);var b=h,g=b,v=(a("84c7"),a("0b56")),m=Object(v["a"])(g,n,i,!1,null,"7e267c7f",null);e["a"]=m.exports},"7fd0":function(t,e,a){},"84c7":function(t,e,a){"use strict";a("f180")},a349:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("3753"),i=a("7736"),o=c("computed",i["e"]);c("computed",i["c"]),c("methods",i["b"]),c("methods",i["d"]);function c(t,e){function a(a,i){return Object(n["a"])((function(n,o){n[t]||(n[t]={});var c,r=(c={},c[o]=a,c);n[t][o]=void 0!==i?e(i,r)[o]:e(r)[o]}))}function i(t,e){if("string"===typeof e){var n=e,i=t;return a(n,void 0)(i,n)}var o=r(e),c=t;return a(c,o)}return i}function r(t){var e=t&&t.namespace;if("string"===typeof e)return"/"!==e[e.length-1]?e+"/":e}},c419:function(t,e,a){"use strict";a("7fd0")},f180:function(t,e,a){}}]);