(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-073f954c"],{"107c":function(e,t,s){var a=s("d039"),o=s("da84"),i=o.RegExp;e.exports=a((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"14c3":function(e,t,s){var a=s("da84"),o=s("c65b"),i=s("825a"),n=s("1626"),r=s("c6b6"),c=s("9263"),l=a.TypeError;e.exports=function(e,t){var s=e.exec;if(n(s)){var a=o(s,e,t);return null!==a&&i(a),a}if("RegExp"===r(e))return o(c,e,t);throw l("RegExp#exec called on incompatible receiver")}},"37cd":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{class:["basic_layout_container"]},[a("div",{staticClass:"backBox"},["卫宁健康"!==e.loginlog.name?a("img",{staticClass:"backBox_img",attrs:{src:"imgs/loginBack.jpg"}}):e._e(),"卫宁健康"===e.loginlog.name?a("video",{staticStyle:{width:"100%",height:"100%","object-fit":"cover","mix-blend-mode":"screen",display:"block"},attrs:{id:"myvideo",width:"100%",height:"auto",autoplay:"autoplay",loop:"loop",preload:"",muted:"muted"},domProps:{muted:!0}},[a("source",{attrs:{src:s("3f15"),type:"video/mp4"}})]):e._e(),a("div",{staticClass:"logo",style:{"--loginLogWidth":e.loginlog.loginCss.width,"--loginLogHeight":e.loginlog.loginCss.height}},["卫宁健康"!==e.loginlog.name?a("img",{attrs:{src:"imgs/loginLogo.png"}}):e._e(),"卫宁健康"===e.loginlog.name?a("img",{attrs:{src:"imgs/wnLogo.svg"}}):e._e(),"北京大学人民医院"!==e.loginlog.name?a("span",{staticStyle:{color:"#2173f9","vertical-align":"middle"}},[e._v(" 患者360视图 ")]):e._e()]),a("div",{staticClass:"loginCard"},[a("div",{staticClass:"title"},[a("div",{staticClass:"f1"},[e._v("欢迎登录")]),a("div",{staticClass:"f2"},[e._v("Welcome aboard")])]),a("div",{staticClass:"login"},[a("div",{staticClass:"inputBox"},[a("div",{staticClass:"account"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:s("524c")}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"请输入账号",onfocus:"this.placeholder=''",onblur:"this.placeholder='请输入账号'"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),a("i",{staticClass:"close",on:{click:function(t){e.username=""}}},[a("img",{attrs:{src:s("0b16")}})])]),a("div",{staticClass:"password"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:s("7c1c")}})]),"checkbox"===e.types?a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"passwordInput",attrs:{placeholder:"请输入密码",onfocus:"this.placeholder=''",onblur:"this.placeholder='请输入密码'",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:function(t){var s=e.password,a=t.target,o=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&(e.password=s.concat([i])):n>-1&&(e.password=s.slice(0,n).concat(s.slice(n+1)))}else e.password=o}}}):"radio"===e.types?a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"passwordInput",attrs:{placeholder:"请输入密码",onfocus:"this.placeholder=''",onblur:"this.placeholder='请输入密码'",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:function(t){e.password=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"passwordInput",attrs:{placeholder:"请输入密码",onfocus:"this.placeholder=''",onblur:"this.placeholder='请输入密码'",type:e.types},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("i",{staticClass:"close L2",on:{click:function(t){e.password=""}}},[a("img",{attrs:{src:s("0b16")}})]),a("i",{staticClass:"lookPassword",on:{click:e.checkPassword}},[a("img",{attrs:{src:s("1771")("./"+e.checkpasswordimages)}})])]),a("div",{staticClass:"institution"},[a("div",{staticClass:"cur-institution-wrapper"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:s("e254")}})]),a("el-select",{staticClass:"institution",attrs:{placeholder:"请选择机构名称"},model:{value:e.chooseInstitution,callback:function(t){e.chooseInstitution=t},expression:"chooseInstitution"}},e._l(e.institutions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})})),1)],1)]),e.captchaFlg?a("div",{staticClass:"captcha"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:s("7c1c")}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha,expression:"captcha"}],staticClass:"form-input",attrs:{type:"text",placeholder:"请输入验证码",onfocus:"this.placeholder=''",onblur:"this.placeholder='请输入验证码'"},domProps:{value:e.captcha},on:{input:function(t){t.target.composing||(e.captcha=t.target.value)}}}),a("div",{staticClass:"check-code",attrs:{id:"captcha-img"},on:{click:e.getCaptchaImageFunc}},[a("img",{ref:"captchaImgRef",staticStyle:{height:"100%",width:"100%"},attrs:{id:"captcha",alt:"",src:"/c/api/v1/token/getCaptchaImage"}})])]):e._e(),a("div",{staticClass:"memory"},[a("div",{staticClass:"remember",on:{click:e.rememberUsername}},[a("el-checkbox",{staticClass:"ordinary-check",attrs:{id:"remember"},model:{value:e.isRememberPassword,callback:function(t){e.isRememberPassword=t},expression:"isRememberPassword"}},[e._v(" 保存账号 ")])],1),a("div",{staticClass:"forget",on:{click:function(t){e.showHelp=!e.showHelp}}},[e._v("忘记密码？")]),e.showHelp?a("div",{staticClass:"help hidden-block"},[e._v(" 请联系系统管理员获取帮助"),a("i")]):e._e()]),e.showErrorMessage?a("div",{staticClass:"misinput"},[e._v(" "+e._s(e.remindMessageTxt?e.remindMessageTxt:"登陆失败")+" ")]):e._e(),a("div",{attrs:{id:"entry"},on:{click:e.handleLogin}},[a("span",[e._v(" 登录 ")])])])])]),a("div",{attrs:{id:"footer"}},[a("span",{staticClass:"pull-right"},[e._v("©2022 "+e._s(e.loginlog.copName))])])])])},o=[],i=s("1da1"),n=(s("96cf"),s("ac1f"),s("1276"),s("d3b7"),s("498a"),s("e9c4"),s("27ae")),r={name:"login",data:function(){return{loginlog:window.CONFIG.HospitalMessage?window.CONFIG.HospitalMessage:{name:"佛山复星禅诚医院",copName:"Fosun Health",loginCss:{width:"0.96rem",height:""}},checkpasswordimages:"images/eyeClosed.svg",types:"password",showErrorMessage:!1,remindMessageTxt:"",isRememberPassword:!1,showHelp:!1,institutions:[],chooseInstitution:"",username:"",password:"",captchaFlg:!1,captcha:""}},mounted:function(){this.getInstitutionList(),this.getCaptchaFlag(),this.getWaterConfig(),this.username=this.$storage.get("username")||"",this.username?this.isRememberPassword=!0:this.isRememberPassword=!1},methods:{getWaterConfig:function(){var e=this;this.$api.getWaterConfig().then((function(t){200===t.status&&e.$store.commit("SET_WaterConfig",t.data.data||{})})).catch((function(e){console.log(e)}))},getCaptchaFlag:function(){var e=this,t={};this.$api.getCaptchaFlag(t).then((function(t){e.captchaFlg=t.data&&"1"===t.data,e.$nextTick((function(){e.getCaptchaImageFunc()}))})).catch((function(e){console.log(e)}))},getCaptchaImageFunc:function(){var e=this.$refs.captchaImgRef;if(e){var t=e.src;e.src=this.chgUrl(t)}},chgUrl:function(e){var t=(new Date).valueOf();return e=e.split("?")[0],e=e.indexOf("&")>=0?e+"×tamp="+t:e+"?timestamp="+t,e},rememberUsername:function(){this.isRememberPassword?this.$storage.remove("username"):this.$storage.set("username",this.username)},checkPassword:function(){"images/eyeClosed.svg"===this.checkpasswordimages?(this.checkpasswordimages="images/eyeOpen.svg",this.types="text"):(this.checkpasswordimages="images/eyeClosed.svg",this.types="password")},getInstitutionList:function(){var e=this;return new Promise((function(t,s){e.$api.getAllInstitutions().then((function(s){var a=s.data;if(e.institutions=a,a&&a.length>0)for(var o=0;o<a.length;o++)if(a[o].grade&&1===a[o].grade){e.chooseInstitution=a[o].code;break}t()}))}))},handleLogin:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.username.trim()&&""!==e.password.trim()&&""!==e.chooseInstitution){t.next=3;break}return e.$message({showClose:!0,message:"账户名或密码或医疗机构为必选",type:"warning"}),t.abrupt("return",!1);case 3:if(localStorage.removeItem("isSsoLogin"),e.$storage.set("username",e.username),e.$store.commit("SET_TOKEN",""),""===e.usercode||""===e.password){t.next=17;break}return s={usercode:n["Base64"].encode(e.username),password:n["Base64"].encode(e.password),yljgdm:n["Base64"].encode(e.chooseInstitution),captcha:n["Base64"].encode(e.captcha)},t.next=10,e.$api.getAllSysConfig();case 10:return a=t.sent,a.data&&localStorage.setItem("allSysConfig",JSON.stringify(a.data)),a.data&&a.data.cdssUrl&&localStorage.setItem("cdssUrl",a.data.cdssUrl),t.next=15,e.$store.dispatch("getToken",s);case 15:o=t.sent,1*o.status===400?(e.showErrorMessage=!0,e.remindMessageTxt=o.message):(e.showErrorMessage=!1,e.$router.push("/suffererView"));case 17:case"end":return t.stop()}}),t)})))()}}},c=r,l=(s("51bd"),s("2877")),d=Object(l["a"])(c,a,o,!1,null,"7ba0655c",null);t["default"]=d.exports},"44e7":function(e,t,s){var a=s("861d"),o=s("c6b6"),i=s("b622"),n=i("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==o(e))}},"51bd":function(e,t,s){"use strict";s("8841")},8841:function(e,t,s){},"8aa5":function(e,t,s){"use strict";var a=s("6547").charAt;e.exports=function(e,t,s){return t+(s?a(e,t).length:1)}},9263:function(e,t,s){"use strict";var a=s("c65b"),o=s("e330"),i=s("577e"),n=s("ad6d"),r=s("9f7f"),c=s("5692"),l=s("7c73"),d=s("69f3").get,u=s("fce3"),p=s("107c"),g=c("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,h=m,f=o("".charAt),v=o("".indexOf),w=o("".replace),x=o("".slice),b=function(){var e=/a/,t=/b*/g;return a(m,e,"a"),a(m,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),C=r.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],k=b||y||C||u||p;k&&(h=function(e){var t,s,o,r,c,u,p,k=this,I=d(k),_=i(e),R=I.raw;if(R)return R.lastIndex=k.lastIndex,t=a(h,R,_),k.lastIndex=R.lastIndex,t;var E=I.groups,P=C&&k.sticky,S=a(n,k),$=k.source,N=0,T=_;if(P&&(S=w(S,"y",""),-1===v(S,"g")&&(S+="g"),T=x(_,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==f(_,k.lastIndex-1))&&($="(?: "+$+")",T=" "+T,N++),s=new RegExp("^(?:"+$+")",S)),y&&(s=new RegExp("^"+$+"$(?!\\s)",S)),b&&(o=k.lastIndex),r=a(m,P?s:k,T),P?r?(r.input=x(r.input,N),r[0]=x(r[0],N),r.index=k.lastIndex,k.lastIndex+=r[0].length):k.lastIndex=0:b&&r&&(k.lastIndex=k.global?r.index+r[0].length:o),y&&r&&r.length>1&&a(g,r[0],s,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(r[c]=void 0)})),r&&E)for(r.groups=u=l(null),c=0;c<E.length;c++)p=E[c],u[p[0]]=r[p[1]];return r}),e.exports=h},"9f7f":function(e,t,s){var a=s("d039"),o=s("da84"),i=o.RegExp,n=a((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),r=n||a((function(){return!i("a","y").sticky})),c=n||a((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:r,UNSUPPORTED_Y:n}},ac1f:function(e,t,s){"use strict";var a=s("23e7"),o=s("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},d784:function(e,t,s){"use strict";s("ac1f");var a=s("e330"),o=s("6eeb"),i=s("9263"),n=s("d039"),r=s("b622"),c=s("9112"),l=r("species"),d=RegExp.prototype;e.exports=function(e,t,s,u){var p=r(e),g=!n((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),m=g&&!n((function(){var t=!1,s=/a/;return"split"===e&&(s={},s.constructor={},s.constructor[l]=function(){return s},s.flags="",s[p]=/./[p]),s.exec=function(){return t=!0,null},s[p](""),!t}));if(!g||!m||s){var h=a(/./[p]),f=t(p,""[e],(function(e,t,s,o,n){var r=a(e),c=t.exec;return c===i||c===d.exec?g&&!n?{done:!0,value:h(t,s,o)}:{done:!0,value:r(s,t,o)}:{done:!1}}));o(String.prototype,e,f[0]),o(d,p,f[1])}u&&c(d[p],"sham",!0)}},fce3:function(e,t,s){var a=s("d039"),o=s("da84"),i=o.RegExp;e.exports=a((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);